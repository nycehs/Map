{
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "width": "container",
    "height": "container",
    "autosize": {
      "type": "fit",
      "contains": "padding"
    },
    "data": {
      "name": "zctajson",
      "format": {"type":"json","property": "features"}
    },
    "transform": [{
      "lookup": "properties.MODZCTA",
      "from": {
        "data": {
          "name": "datacsv",
          "format": {"type": "csv"}
        },
        "key": "zcta",
        "fields": ["zcta","time","cases","rate","pctpos"]
      }
    }],
    "mark": {
      "type": "geoshape",
      "stroke": "#c7c7c7",
      "strokeWidth": 0.5
    },
    "encoding": {
      "color": {
          "bin":false,
          "field":"cases",
          "type":"quantitative",
          "scale": {"scheme": "purples"},
          "legend": {
              "title": "Case Count",
              "orient":"top-left"
          }
      },
        
      "tooltip": [
        {"field": "zcta", "type": "nominal", "title":"ZipCode"},
        {"field": "cases", "type": "quantitative", "title":"Case Count"},
        {"field": "rate", "type": "quantitative", "title":"Rate per 100k"},
        {"field": "pctpos", "type": "quantitative", "title":"Percent Positive"}
      ]
    }
  }