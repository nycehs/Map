{
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "width": "container",
    "height": "container",
    "autosize": {
      "type": "fit",
      "contains": "padding"
    },
    "data": {
      "url": "zcta.topo.json",
      "format": {"type": "topojson",
        "feature": "collection"}
    },
    "transform": [{
      "lookup": "properties.MODZCTA",
      "from": {
        "data": {
          "url": "FAKE_ZCTA_DATA.csv"
        },
        "key": "MODIFIED_ZCTA",
        "fields": ["MODIFIED_ZCTA","NEIGHBORHOOD_NAME","BOROUGH_GROUP","COVID_CASE_COUNT","COVID_CASE_RATE","PERCENT_POSITIVE","POP_DENOMINATOR"]
      }
    }],
    "selection": {
      "highlight": {"type": "single", "empty": "none", "on": "mouseover"}
    },
    "mark": {
      "type": "geoshape",
      "stroke": "#FFFFFF"
    },
    "encoding": {
      "color": {
          "bin":false,
          "field":"COVID_CASE_COUNT",
          "type":"quantitative",
          "scale": {"scheme": {"name":"redpurple","extent":[0.2,1.25]}},
          "legend": {
              "title": "Case Count",
              "titleFontSize": 10,
              "orient":"top-left",
              "gradientLength": 100
          }
      },
      "strokeWidth":{
        "condition": [
          {"selection": "highlight", "value": 2}
        ],
        "value": 0.5
      },
        
      "tooltip": [
        {"field": "MODIFIED_ZCTA", "type": "nominal", "title":"ZIP Code"},
        {"field": "NEIGHBORHOOD_NAME", "type":"nominal", "title":"Neighborhood"},
        {"field": "COVID_CASE_COUNT", "type": "quantitative", "title":"Case Count"},
        {"field": "COVID_CASE_RATE", "type": "quantitative", "title":"Rate per 100,000"},
        {"field": "PERCENT_POSITIVE", "type": "quantitative", "title":"Percent of people tested who tested positive"}
      ]
    }
  }