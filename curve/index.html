<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epi curves (last 3 months): COVID-19 in NYC</title>

    <style>
        html {
            font-family: helvetica;
        }

        .togglebutton {
            font-size: 16;
            padding: 2px 6px;
            border-radius: 5px;
            font-weight: 400;
            background-color: #eeeeee;
            color: #696969 !important;
            box-shadow: 0px 0px 7px 2px rgba(0, 0, 0, 0, 07);
            cursor: pointer;
            display: inline-block;

        }

        .togglebutton:hover {
            background-color: #bce3ff;
            text-decoration: none;
        }


        .highlight {
            background-color: #429ddd !important;
            color: #ffffff !important;
            font-weight: 550;
        }

        .boroughs {
            float: right;
            background: #ccb1d1;
            color: #3f3f3f !important;
        }

        .boroughs:hover {
            color: #2c2c2c;
            background: #803D8D;
            color: #ffffff !important;
        }
    </style>


</head>




<body>
    <div id="selection">
        <a id="caseButton" target="_self" onclick="showCases()" tabindex="0" class="togglebutton highlight"> Cases </a>
        &nbsp;

        <a id="hospButton" target="_self" onclick="showHosps()" tabindex="0" class="togglebutton">
            Hospitalizations </a> &nbsp;

        <a id="deathButton" target="_self" onclick="showDeaths()" tabindex="0" class="togglebutton"> Deaths </a>
        &nbsp;&nbsp;&nbsp;&nbsp;

        <a id="boroughsButton" target="_self" onclick="showBoroughs()" tabindex="0" class="togglebutton boroughs"> Show
            Boroughs </a>
        &nbsp;
    </div>


    <div id="citywideCases" style="display:block;">
        <!--
        <iframe title="Cases: 7-day rolling average (Copy)" aria-label="Interactive line chart"
            id="datawrapper-chart-tdakA" src="https://datawrapper.dwcdn.net/tdakA/4/" scrolling="no" frameborder="0"
            style="width: 0; min-width: 100% !important; border: none;" height="400"></iframe>
        <script type="text/javascript">!function () { "use strict"; window.addEventListener("message", (function (a) { if (void 0 !== a.data["datawrapper-height"]) for (var e in a.data["datawrapper-height"]) { var t = document.getElementById("datawrapper-chart-" + e) || document.querySelector("iframe[src*='" + e + "']"); t && (t.style.height = a.data["datawrapper-height"][e] + "px") } })) }();
        </script>
        -->

        <iframe title="Citywide cases (3 months)" aria-label="Interactive line chart" id="datawrapper-chart-4Arst"
            src="https://datawrapper.dwcdn.net/4Arst/13/" scrolling="no" frameborder="0"
            style="width: 0; min-width: 100% !important; border: none;" height="450"></iframe>


    </div>

    <div id="citywideHosps" style="display:none">
        <iframe title="Hosp (3mo)" aria-label="Interactive line chart" id="datawrapper-chart-wZ0ZK"
            src="https://datawrapper.dwcdn.net/wZ0ZK/12/" scrolling="no" frameborder="0"
            style="width: 0; min-width: 100% !important; border: none;" height="450"></iframe>

    </div>

    <div id="citywideDeaths" style="display:none">
        <iframe title="Deaths (3mo) " aria-label="Interactive line chart" id="datawrapper-chart-g00Dc"
            src="https://datawrapper.dwcdn.net/g00Dc/13/" scrolling="no" frameborder="0"
            style="width: 0; min-width: 100% !important; border: none;" height="450"></iframe>

    </div>



    <div id="boroughsCases" style="display:none;">
        <div class="smallmultiple">
            <iframe title="Bronx: cases (3 months)" aria-label="Interactive line chart" id="datawrapper-chart-qp5L1"
                src="https://datawrapper.dwcdn.net/qp5L1/16/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="250"></iframe>

        </div>

        <div class="smallmultiple">
            <iframe title="Brooklyn: cases (3 months)" aria-label="Interactive line chart" id="datawrapper-chart-EFykY"
                src="https://datawrapper.dwcdn.net/EFykY/21/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="250"></iframe>

        </div>

        <div class="smallmultiple">
            <iframe title="Manhattan: cases (3 months)" aria-label="Interactive line chart" id="datawrapper-chart-9h63q"
                src="https://datawrapper.dwcdn.net/9h63q/15/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="250"></iframe>

        </div>

        <div class="smallmultiple">
            <iframe title="Queens: cases (3 months)" aria-label="Interactive line chart" id="datawrapper-chart-LtFIE"
                src="https://datawrapper.dwcdn.net/LtFIE/15/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="250"></iframe>

        </div>

        <div class="smallmultiple">
            <iframe title="Staten Island: cases (3 months)" aria-label="Interactive line chart"
                id="datawrapper-chart-oVDW4" src="https://datawrapper.dwcdn.net/oVDW4/14/" scrolling="no"
                frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="250"></iframe>

        </div>
    </div>

    <div id="boroughsHosps" style="display:none;">
        <div class="smallmultiple">
            <iframe title="Bronx: hospitalizations" aria-label="Interactive line chart" id="datawrapper-chart-OQ8dl"
                src="https://datawrapper.dwcdn.net/OQ8dl/8/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Brooklyn: hospitalizations" aria-label="Interactive line chart" id="datawrapper-chart-9JuaU"
                src="https://datawrapper.dwcdn.net/9JuaU/12/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Manhattan: hospitalizations" aria-label="Interactive line chart" id="datawrapper-chart-wG1fR"
                src="https://datawrapper.dwcdn.net/wG1fR/8/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Queens: hospitalizations " aria-label="Interactive line chart" id="datawrapper-chart-Ta29u"
                src="https://datawrapper.dwcdn.net/Ta29u/8/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Staten Island: hospitalizations" aria-label="Interactive line chart"
                id="datawrapper-chart-zdEEq" src="https://datawrapper.dwcdn.net/zdEEq/8/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>
    </div>

    <div id="boroughsDeaths" style="display:none">
        <div class="smallmultiple">
            <iframe title="Bronx: deaths " aria-label="Interactive line chart" id="datawrapper-chart-lJ4jg"
                src="https://datawrapper.dwcdn.net/lJ4jg/9/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Brooklyn: deaths" aria-label="Interactive line chart" id="datawrapper-chart-YO0wX"
                src="https://datawrapper.dwcdn.net/YO0wX/13/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Manhattan: deaths" aria-label="Interactive line chart" id="datawrapper-chart-WNNfm"
                src="https://datawrapper.dwcdn.net/WNNfm/10/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Queens: deaths" aria-label="Interactive line chart" id="datawrapper-chart-aHThe"
                src="https://datawrapper.dwcdn.net/aHThe/11/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>

        <div class="smallmultiple">
            <iframe title="Staten Island: deaths" aria-label="Interactive line chart" id="datawrapper-chart-1Gwze"
                src="https://datawrapper.dwcdn.net/1Gwze/9/" scrolling="no" frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;" height="200"></iframe>
        </div>
    </div>



    <script>
        //Lets enter key act as click on button
        document.addEventListener('keyup', function (event) {
            // console.log(event);  
            if (event.key === 'Enter') {
                event.preventDefault();
                if (event.target.classList.contains('togglebutton')) {
                    document.getElementById(event.target.id).click();
                }
            }
        });


        //declaring variables of convenience
        var cityCase = document.getElementById("citywideCases");
        var cityHosp = document.getElementById('citywideHosps')
        var cityDeath = document.getElementById('citywideDeaths')
        var boroCase = document.getElementById('boroughsCases');
        var boroHosp = document.getElementById('boroughsHosps');
        var boroDeath = document.getElementById('boroughsDeaths');
        var button = document.getElementById("boroughsButton");


        function showBoroughs() {
            // If NYC Cases, to Boroughs Cases
            if (cityCase.style.display === "block") {
                cityCase.style.display = "none";
                boroCase.style.display = "block"
                button.innerHTML = "Show Citywide";
            }
            // If Boro Cases,  to NYC Cases
            else if (boroCase.style.display === "block") {
                cityCase.style.display = "block";
                boroCase.style.display = "none"
                button.innerHTML = "Show Boroughs";
            }

            //if NYC Hosp, to Boro hosp
            else if (cityHosp.style.display === "block") {
                cityHosp.style.display = "none";
                boroHosp.style.display = "block";
                button.innerHTML = "Show Citywide";
            }

            //if Boro Hosp,  to NYC Hosp
            else if (boroHosp.style.display === "block") {
                boroHosp.style.display = "none";
                cityHosp.style.display = "block";
                button.innerHTML = "Show Boroughs";
            }

            //if NYC Death, to Boro Death
            else if (cityDeath.style.display === "block") {
                cityDeath.style.display = "none";
                boroDeath.style.display = "block";
                button.innerHTML = "Show Citywide";
            }

            //if Boro Death,  to NYC Death
            else if (boroDeath.style.display === "block") {
                boroDeath.style.display = "none";
                cityDeath.style.display = "block";
                button.innerHTML = "Show Boroughs";
            }
        }


        function showCases() {
            document.getElementById('caseButton').classList.add('highlight');
            document.getElementById('hospButton').classList.remove('highlight');
            document.getElementById('deathButton').classList.remove('highlight');


            //if City view, show City cases
            if (cityHosp.style.display === "block" || cityDeath.style.display === "block") {
                cityCase.style.display = "block";
                cityHosp.style.display = "none";
                cityDeath.style.display = "none";
                button.innerHTML = "Show Boroughs";
            }

            //if Boro view, show Boro cases
            else if (boroHosp.style.display === "block" || boroDeath.style.display === "block") {
                boroCase.style.display = "block";
                boroHosp.style.display = "none";
                boroDeath.style.display = "none";
                button.innerHTML = "Show Citywide";
            }
        }


        function showHosps() {
            document.getElementById('hospButton').classList.add('highlight');
            document.getElementById('caseButton').classList.remove('highlight');
            document.getElementById('deathButton').classList.remove('highlight');



            //if City view, show City Hosps
            if (cityCase.style.display === "block" || cityDeath.style.display === "block") {
                cityHosp.style.display = "block";
                cityCase.style.display = "none";
                cityDeath.style.display = "none";
                button.innerHTML = "Show Boroughs";
            }
            //if Boro view, show Boro hosps
            else if (boroCase.style.display === "block" || boroDeath.style.display === "block") {
                boroHosp.style.display = "block";
                boroCase.style.display = "none";
                boroDeath.style.display = "none";
                button.innerHTML = "Show Citywide";
            }

        }


        function showDeaths() {
            document.getElementById('deathButton').classList.add('highlight');
            document.getElementById('hospButton').classList.remove('highlight');
            document.getElementById('caseButton').classList.remove('highlight');


            //if City view, show City Deaths
            if (cityCase.style.display === "block" || cityHosp.style.display === "block") {
                cityDeath.style.display = "block";
                cityCase.style.display = "none";
                cityHosp.style.display = "none";
                button.innerHTML = "Show Boroughs";
            }
            //if Boro view, show Boro Deaths
            else if (boroCase.style.display === "block" || boroHosp.style.display === "block") {
                boroDeath.style.display = "block";
                boroCase.style.display = "none";
                boroHosp.style.display = "none";
                button.innerHTML = "Show Citywide";
            }
        }

    </script>


</body>

</html>